import{S as Ie,i as je,s as ze,k as B,q as H,a as V,w as oe,I as _e,e as de,l as q,m as W,r as J,h as _,c as M,x as ue,J as ve,n as u,p as le,b as P,H as D,y as fe,L as R,u as pe,f as ee,t as se,d as Ce,z as ce,M as Ee,N as ne,o as Ae,O as Q,g as Ue,P as re}from"../../../chunks/index-518d6ef1.js";import{c as Ne}from"../../../chunks/shared-23917130.js";import{D as he}from"../../../chunks/Divider-6015a2bc.js";import{d as te}from"../../../chunks/draw-75fe8e2b.js";var ie,ge;function Te(){if(ge)return ie;ge=1;var n=9007199254740991,o="[object Arguments]",r="[object Function]",f="[object GeneratorFunction]",t=/^(?:0|[1-9]\d*)$/;function L(e,i){for(var p=-1,S=Array(e);++p<e;)S[p]=i(p);return S}function c(e,i){return function(p){return e(i(p))}}var y=Object.prototype,I=y.hasOwnProperty,E=y.toString,k=y.propertyIsEnumerable,g=c(Object.keys,Object);function C(e,i){var p=j(e)||T(e)?L(e.length,String):[],S=p.length,Z=!!S;for(var X in e)(i||I.call(e,X))&&!(Z&&(X=="length"||v(X,S)))&&p.push(X);return p}var d=z();function A(e,i){return e&&d(e,i,Y)}function O(e,i,p,S){return A(e,function(Z,X,$){i(S,p(Z),X,$)}),S}function l(e){if(!N(e))return g(e);var i=[];for(var p in Object(e))I.call(e,p)&&p!="constructor"&&i.push(p);return i}function z(e){return function(i,p,S){for(var Z=-1,X=Object(i),$=S(i),x=$.length;x--;){var me=$[e?x:++Z];if(p(X[me],me,X)===!1)break}return i}}function s(e,i){return function(p,S){return O(p,e,i(S),{})}}function v(e,i){return i=i??n,!!i&&(typeof e=="number"||t.test(e))&&e>-1&&e%1==0&&e<i}function N(e){var i=e&&e.constructor,p=typeof i=="function"&&i.prototype||y;return e===p}function T(e){return h(e)&&I.call(e,"callee")&&(!k.call(e,"callee")||E.call(e)==o)}var j=Array.isArray;function b(e){return e!=null&&U(e.length)&&!K(e)}function h(e){return F(e)&&b(e)}function K(e){var i=w(e)?E.call(e):"";return i==r||i==f}function U(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}function w(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function F(e){return!!e&&typeof e=="object"}var G=s(function(e,i,p){e[i]=p},a(m));function Y(e){return b(e)?C(e):l(e)}function a(e){return function(){return e}}function m(e){return e}return ie=G,ie}var De=function(o){const r=Te(),f=o?o.preset:"ru",t={а:"a",б:"b",в:"v",д:"d",з:"z",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",ь:""};f==="ru"?Object.assign(t,{г:"g",и:"i",ъ:"",ы:"i",э:"e"}):f==="uk"?Object.assign(t,{г:"h",ґ:"g",е:"e",и:"y",і:"i","'":"","’":"",ʼ:""}):f==="mn"&&Object.assign(t,{г:"g",ө:"o",ү:"u",и:"i",ы:"y",э:"e",ъ:""});let L;f==="ru"?L=Object.assign(r(t),{i:"и","":""}):f==="uk"?L=Object.assign(r(t),{"":""}):f==="mn"&&(L=Object.assign(r(t),{"":""}));const c=f==="ru"?{е:"ye"}:{є:"ye",ї:"yi"},y={ё:"yo",ж:"zh",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ю:"yu",я:"ya"},I=Object.assign({},y,c),E=Object.assign(r(I)),k=Object.assign(t,I),g=Object.assign({},t,{й:"i"});f==="ru"?Object.assign(g,{е:"e"}):f==="uk"?Object.assign(g,{ї:"i"}):f==="mn"&&Object.assign(g,{е:"e"});let C;f==="ru"?C=Object.assign(r(t),{i:"и",y:"ы",e:"е","":""}):f==="uk"&&(C=Object.assign(r(t),{"":""}));let d={};f==="uk"&&(d={є:"ie",ю:"iu",я:"ia"});const A=Object.assign(y,d),O=Object.assign(r(A)),l=Object.assign(g,A);function z(v,N){if(!v)return"";const T=v.normalize();let j="",b=!1;for(let h=0;h<T.length;h++){const K=T[h]===T[h].toUpperCase();let U=T[h].toLowerCase();if(U===" "){j+=N||" ",b=!0;continue}let w;f==="uk"&&T.slice(h-1,h+1).toLowerCase()==="зг"?w="gh":h===0||b?(w=k[U],b=!1):w=l[U],typeof w>"u"?j+=K?U.toUpperCase():U:K?w.length>1?j+=w[0].toUpperCase()+w.slice(1):j+=w.toUpperCase():j+=w}return j}function s(v,N){if(!v)return"";const T=v.normalize();let j="",b=!1,h=0;for(;h<T.length;){const K=T[h]===T[h].toUpperCase();let U=T[h].toLowerCase(),w=h;if(U===" "||U===N){j+=" ",b=!0,h++;continue}let F,G=T.slice(h,h+2).toLowerCase();h===0||b?(F=E[G],F?h+=2:(F=L[U],h++),b=!1):(F=O[G],F?h+=2:(F=C[U],h++)),T.slice(w,w+4).toLowerCase()==="shch"?(F="щ",h=w+4):T.slice(w-1,w+2).toLowerCase()==="zgh"&&(F="г",h=w+2),typeof F>"u"?j+=K?U.toUpperCase():U:K?F.length>1?j+=F[0].toUpperCase()+F.slice(1):j+=F.toUpperCase():j+=F}return j}return{transform:z,reverse:s}};const Pe=""+new URL("../../../assets/background-0c68b1ea.png",import.meta.url).href;function be(n,o,r){const f=n.slice();return f[15]=o[r],f[16]=o,f[17]=r,f}function we(n,o,r){const f=n.slice();return f[18]=o[r],f}function ye(n){let o,r=n[18].name+"",f,t,L,c;function y(){return n[9](n[18])}function I(){return n[10](n[18])}return{c(){o=B("div"),f=H(r),t=V(),this.h()},l(E){o=q(E,"DIV",{class:!0});var k=W(o);f=J(k,r),t=M(k),k.forEach(_),this.h()},h(){u(o,"class","select-dropdown-option svelte-tf98um")},m(E,k){P(E,o,k),D(o,f),D(o,t),L||(c=[R(o,"keypress",y),R(o,"click",I)],L=!0)},p(E,k){n=E},d(E){E&&_(o),L=!1,ne(c)}}}function ke(n){let o,r,f,t,L,c,y,I,E,k,g,C,d=n[0].noimage==!1&&Oe(n),A=n[0].lines,O=[];for(let l=0;l<A.length;l+=1)O[l]=Le(be(n,A,l));return f=new he({props:{title:"Сохранение"}}),{c(){d&&d.c(),o=V();for(let l=0;l<O.length;l+=1)O[l].c();r=V(),oe(f.$$.fragment),t=V(),L=B("button"),c=H("Скачать"),y=V(),I=B("button"),E=H("Сбросить"),this.h()},l(l){d&&d.l(l),o=M(l);for(let v=0;v<O.length;v+=1)O[v].l(l);r=M(l),ue(f.$$.fragment,l),t=M(l),L=q(l,"BUTTON",{class:!0});var z=W(L);c=J(z,"Скачать"),z.forEach(_),y=M(l),I=q(l,"BUTTON",{class:!0});var s=W(I);E=J(s,"Сбросить"),s.forEach(_),this.h()},h(){u(L,"class","ok"),u(I,"class","reset")},m(l,z){d&&d.m(l,z),P(l,o,z);for(let s=0;s<O.length;s+=1)O[s].m(l,z);P(l,r,z),fe(f,l,z),P(l,t,z),P(l,L,z),D(L,c),P(l,y,z),P(l,I,z),D(I,E),k=!0,g||(C=[R(L,"click",n[4]),R(I,"click",n[3])],g=!0)},p(l,z){if(l[0].noimage==!1?d?d.p(l,z):(d=Oe(l),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),z&33){A=l[0].lines;let s;for(s=0;s<A.length;s+=1){const v=be(l,A,s);O[s]?O[s].p(v,z):(O[s]=Le(v),O[s].c(),O[s].m(r.parentNode,r))}for(;s<O.length;s+=1)O[s].d(1);O.length=A.length}},i(l){k||(ee(f.$$.fragment,l),k=!0)},o(l){se(f.$$.fragment,l),k=!1},d(l){d&&d.d(l),l&&_(o),Ee(O,l),l&&_(r),ce(f,l),l&&_(t),l&&_(L),l&&_(y),l&&_(I),g=!1,ne(C)}}}function Oe(n){let o,r,f,t,L,c,y,I,E,k,g,C,d,A,O,l,z,s,v,N,T,j,b,h,K,U,w=n[0].filename+"",F,G,Y;return{c(){o=B("span"),r=H("Позиционирование"),f=V(),t=B("span"),L=H("Zoom "),c=B("input"),I=V(),E=B("span"),k=H("X "),g=B("input"),O=V(),l=B("span"),z=H("Y "),s=B("input"),j=V(),b=B("label"),h=B("input"),K=V(),U=B("span"),F=H(w),this.h()},l(a){o=q(a,"SPAN",{class:!0});var m=W(o);r=J(m,"Позиционирование"),m.forEach(_),f=M(a),t=q(a,"SPAN",{class:!0});var e=W(t);L=J(e,"Zoom "),c=q(e,"INPUT",{type:!0,min:!0,max:!0,title:!0,class:!0}),e.forEach(_),I=M(a),E=q(a,"SPAN",{class:!0});var i=W(E);k=J(i,"X "),g=q(i,"INPUT",{type:!0,min:!0,max:!0,title:!0,class:!0}),i.forEach(_),O=M(a),l=q(a,"SPAN",{class:!0});var p=W(l);z=J(p,"Y "),s=q(p,"INPUT",{type:!0,min:!0,max:!0,title:!0,class:!0}),p.forEach(_),j=M(a),b=q(a,"LABEL",{class:!0});var S=W(b);h=q(S,"INPUT",{type:!0,accept:!0,class:!0}),K=M(S),U=q(S,"SPAN",{});var Z=W(U);F=J(Z,w),Z.forEach(_),S.forEach(_),this.h()},h(){u(o,"class","subtitle"),u(c,"type","range"),u(c,"min","50"),u(c,"max","500"),u(c,"title",y=n[0].pos.zoom/100),u(c,"class","svelte-tf98um"),u(t,"class","range svelte-tf98um"),u(g,"type","range"),u(g,"min",C="-"+n[0].width*(n[0].pos.zoom/100)),u(g,"max",d=n[0].width*(n[0].pos.zoom/100)),u(g,"title",A=n[0].pos.x),u(g,"class","svelte-tf98um"),u(E,"class","range svelte-tf98um"),u(s,"type","range"),u(s,"min",v="-"+n[0].height*(n[0].pos.zoom/100)),u(s,"max",N=n[0].height*(n[0].pos.zoom/100)),u(s,"title",T=n[0].pos.y),u(s,"class","svelte-tf98um"),u(l,"class","range svelte-tf98um"),u(h,"type","file"),h.multiple=!0,u(h,"accept","image/*"),u(h,"class","svelte-tf98um"),u(b,"class","input-file svelte-tf98um")},m(a,m){P(a,o,m),D(o,r),P(a,f,m),P(a,t,m),D(t,L),D(t,c),Q(c,n[0].pos.zoom),P(a,I,m),P(a,E,m),D(E,k),D(E,g),Q(g,n[0].pos.x),P(a,O,m),P(a,l,m),D(l,z),D(l,s),Q(s,n[0].pos.y),P(a,j,m),P(a,b,m),D(b,h),D(b,K),D(b,U),D(U,F),G||(Y=[R(c,"change",n[11]),R(c,"input",n[11]),R(c,"input",n[5]),R(g,"change",n[12]),R(g,"input",n[12]),R(g,"input",n[5]),R(s,"change",n[13]),R(s,"input",n[13]),R(s,"input",n[5]),R(b,"change",n[7])],G=!0)},p(a,m){m&1&&y!==(y=a[0].pos.zoom/100)&&u(c,"title",y),m&1&&Q(c,a[0].pos.zoom),m&1&&C!==(C="-"+a[0].width*(a[0].pos.zoom/100))&&u(g,"min",C),m&1&&d!==(d=a[0].width*(a[0].pos.zoom/100))&&u(g,"max",d),m&1&&A!==(A=a[0].pos.x)&&u(g,"title",A),m&1&&Q(g,a[0].pos.x),m&1&&v!==(v="-"+a[0].height*(a[0].pos.zoom/100))&&u(s,"min",v),m&1&&N!==(N=a[0].height*(a[0].pos.zoom/100))&&u(s,"max",N),m&1&&T!==(T=a[0].pos.y)&&u(s,"title",T),m&1&&Q(s,a[0].pos.y),m&1&&w!==(w=a[0].filename+"")&&pe(F,w)},d(a){a&&_(o),a&&_(f),a&&_(t),a&&_(I),a&&_(E),a&&_(O),a&&_(l),a&&_(j),a&&_(b),G=!1,ne(Y)}}}function Le(n){let o,r,f,t;function L(){n[14].call(o,n[16],n[17])}return{c(){o=B("input"),this.h()},l(c){o=q(c,"INPUT",{type:!0,placeholder:!0}),this.h()},h(){u(o,"type","text"),u(o,"placeholder",r=n[15].placeholder)},m(c,y){P(c,o,y),Q(o,n[15].value),f||(t=[R(o,"input",L),R(o,"input",n[5])],f=!0)},p(c,y){n=c,y&1&&r!==(r=n[15].placeholder)&&u(o,"placeholder",r),y&1&&o.value!==n[15].value&&Q(o,n[15].value)},d(c){c&&_(o),f=!1,ne(t)}}}function Fe(n){let o,r,f,t,L,c,y,I,E,k,g,C,d,A,O=n[0].name+"",l,z,s,v=n[0].name+"",N,T,j,b,h,K,U,w,F,G;t=new he({props:{title:"Результат"}}),k=new he({props:{title:"Настройка"}});let Y=n[2],a=[];for(let e=0;e<Y.length;e+=1)a[e]=ye(we(n,Y,e));let m=n[0].template&&ke(n);return{c(){o=B("a"),r=H("Назад"),f=V(),oe(t.$$.fragment),L=V(),c=B("canvas"),E=V(),oe(k.$$.fragment),g=V(),C=B("div"),d=B("div"),A=B("div"),l=H(O),z=V();for(let e=0;e<a.length;e+=1)a[e].c();s=V(),N=H(v),T=V(),j=B("div"),b=_e("svg"),h=_e("path"),K=V(),m&&m.c(),U=de(),this.h()},l(e){o=q(e,"A",{href:!0,class:!0});var i=W(o);r=J(i,"Назад"),i.forEach(_),f=M(e),ue(t.$$.fragment,e),L=M(e),c=q(e,"CANVAS",{width:!0,height:!0,id:!0,class:!0}),W(c).forEach(_),E=M(e),ue(k.$$.fragment,e),g=M(e),C=q(e,"DIV",{class:!0,style:!0});var p=W(C);d=q(p,"DIV",{class:!0,opened:!0});var S=W(d);A=q(S,"DIV",{class:!0,style:!0});var Z=W(A);l=J(Z,O),Z.forEach(_),z=M(S);for(let x=0;x<a.length;x+=1)a[x].l(S);S.forEach(_),s=M(p),N=J(p,v),T=M(p),j=q(p,"DIV",{class:!0});var X=W(j);b=ve(X,"svg",{class:!0,opened:!0,xmlns:!0,viewBox:!0,height:!0,width:!0});var $=W(b);h=ve($,"path",{d:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),W(h).forEach(_),$.forEach(_),X.forEach(_),p.forEach(_),K=M(e),m&&m.l(e),U=de(),this.h()},h(){u(o,"href",Ne+"/"),u(o,"class","svelte-tf98um"),u(c,"width",y=n[0].width),u(c,"height",I=n[0].height),u(c,"id","canvas"),u(c,"class","svelte-tf98um"),u(A,"class","select-dropdown-placeholder svelte-tf98um"),le(A,"width","295px"),le(A,"height","40px"),u(d,"class","select-dropdown svelte-tf98um"),u(d,"opened",n[1]),u(h,"d","M.5,3.85,6.65,10a.48.48,0,0,0,.7,0L13.5,3.85"),u(h,"fill","none"),u(h,"stroke","#ffffff"),u(h,"stroke-linecap","round"),u(h,"stroke-linejoin","round"),u(b,"class","select-button-icon svelte-tf98um"),u(b,"opened",n[1]),u(b,"xmlns","http://www.w3.org/2000/svg"),u(b,"viewBox","0 0 14 14"),u(b,"height","16"),u(b,"width","16"),u(j,"class","select-button svelte-tf98um"),u(C,"class","select svelte-tf98um"),le(C,"width","295px"),le(C,"height","40px")},m(e,i){P(e,o,i),D(o,r),P(e,f,i),fe(t,e,i),P(e,L,i),P(e,c,i),P(e,E,i),fe(k,e,i),P(e,g,i),P(e,C,i),D(C,d),D(d,A),D(A,l),D(d,z);for(let p=0;p<a.length;p+=1)a[p].m(d,null);D(C,s),D(C,N),D(C,T),D(C,j),D(j,b),D(b,h),P(e,K,i),m&&m.m(e,i),P(e,U,i),w=!0,F||(G=[R(j,"click",n[8]),R(j,"keypress",n[8])],F=!0)},p(e,[i]){if((!w||i&1&&y!==(y=e[0].width))&&u(c,"width",y),(!w||i&1&&I!==(I=e[0].height))&&u(c,"height",I),(!w||i&1)&&O!==(O=e[0].name+"")&&pe(l,O),i&324){Y=e[2];let p;for(p=0;p<Y.length;p+=1){const S=we(e,Y,p);a[p]?a[p].p(S,i):(a[p]=ye(S),a[p].c(),a[p].m(d,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=Y.length}(!w||i&2)&&u(d,"opened",e[1]),(!w||i&1)&&v!==(v=e[0].name+"")&&pe(N,v),(!w||i&2)&&u(b,"opened",e[1]),e[0].template?m?(m.p(e,i),i&1&&ee(m,1)):(m=ke(e),m.c(),ee(m,1),m.m(U.parentNode,U)):m&&(Ue(),se(m,1,1,()=>{m=null}),Ce())},i(e){w||(ee(t.$$.fragment,e),ee(k.$$.fragment,e),ee(m),w=!0)},o(e){se(t.$$.fragment,e),se(k.$$.fragment,e),se(m),w=!1},d(e){e&&_(o),e&&_(f),ce(t,e),e&&_(L),e&&_(c),e&&_(E),ce(k,e),e&&_(g),e&&_(C),Ee(a,e),e&&_(K),m&&m.d(e),e&&_(U),F=!1,ne(G)}}}function ae(){let n=document.getElementById("canvas");n.getContext("2d").clearRect(0,0,n.width,n.height)}function Se(n,o,r){let f=[{name:"Стандарт (горизонтальный)",value:"standarthoriz",width:2e3,height:1500,id:0,noimage:!1,lines:[{placeholder:"Заголовок",value:""},{placeholder:"Подзаголовок",value:""}]},{name:"Стандарт (вертикальный)",value:"standartvert",width:1500,height:2e3,id:1,noimage:!1,lines:[{placeholder:"Заголовок",value:""},{placeholder:"Подзаголовок",value:""}]},{name:"Стандарт (квадратный)",value:"standartsq",width:1500,height:1500,id:2,noimage:!1,lines:[{placeholder:"Заголовок",value:""},{placeholder:"Подзаголовок",value:""}]},{name:"День рождения",value:"birthday",width:1500,height:1500,id:3,noimage:!1,lines:[{placeholder:"Имя Фамилия",value:""},{placeholder:"Должность",value:""}]},{name:"Стипком",value:"stipcom",width:1920,height:325,id:4,noimage:!0,lines:[{placeholder:"До какого числа",value:""}]}],t={id:void 0,template:void 0,name:"Выберите шаблон",width:1e3,height:1e3,pos:{x:0,y:0,zoom:100},filename:"Загрузить изображение",lines:[{placeholder:"Заголовок",value:""},{placeholder:"Подзаголовок",value:""}],image:"",noimage:!1};function L(){r(0,t),r(0,t),r(0,t),r(0,t),r(0,t),r(0,t.filename="Загрузить изображение",t),r(0,t),r(0,t.image="",t),r(0,t.pos={x:0,y:0,zoom:100},t),t.lines.forEach(s=>{s.value=""}),ae()}function c(){let s=document.createElement("a");s.download=`${t.template}_${De({preset:"ru"}).transform(t.lines[0].value,"_").toLowerCase()}.png`,s.href=document.getElementById("canvas").toDataURL(),s.click()}function y(){let s=document.getElementById("canvas"),v=s.getContext("2d");ae();let N=new Image;N.src=Pe,N.onload=()=>{switch(v.drawImage(N,0,0,s.width,s.height),t.template){case"stipcom":te.stipcom(v,t,s);break;case"birthday":te.birthday(v,t,s);break;case"standarthoriz":te.standartwide(v,t,s);break;case"standartvert":te.standart(v,t,s);break;case"standartsq":te.standart(v,t,s);break}}}function I(s,v,N,T,j,b,h){console.log("change"),r(0,t.noimage=j,t),r(0,t.id=s,t),r(0,t.name=h,t),r(0,t.template=v,t),r(0,t.width=N,t),r(0,t.height=T,t),r(0,t.image="",t),r(0,t.filename="Загрузить изображение",t),r(0,t.pos={x:0,y:0,zoom:100},t),r(0,t.lines=b,t),ae(),y(),console.log(h)}function E(s){r(0,t.pos={x:0,y:0,zoom:100},t);const v=s.target.files[0];r(0,t.filename=v.name,t);const N=new FileReader;N.onloadend=()=>{r(0,t.image=N.result,t),y()},N.readAsDataURL(v)}let k=!1;function g(){if(k==!0){r(1,k=!1);return}if(k==!1){r(1,k=!0);return}}Ae(()=>y());const C=s=>{g(),I(s.id,s.value,s.width,s.height,s.noimage,s.lines,s.name)},d=s=>{g(),I(s.id,s.value,s.width,s.height,s.noimage,s.lines,s.name)};function A(){t.pos.zoom=re(this.value),r(0,t)}function O(){t.pos.x=re(this.value),r(0,t)}function l(){t.pos.y=re(this.value),r(0,t)}function z(s,v){s[v].value=this.value,r(0,t)}return[t,k,f,L,c,y,I,E,g,C,d,A,O,l,z]}class Me extends Ie{constructor(o){super(),je(this,o,Se,Fe,ze,{})}}export{Me as default};
